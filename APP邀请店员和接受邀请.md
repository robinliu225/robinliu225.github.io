<meta http-equiv="Content-Type" content="text/html; charset=utf-8">


#千帆掌柜App中实现店长对于店员的加入邀请

千帆掌柜中，针对于店务模块，已经存在相应的店长邀请用户成为店员的流程。但是目前优货、支付主要是在千帆掌柜App中，而店长、店员的概念同样适用于使用优货、千帆支付的用户。因此，为了让优货、支付的用户享受到同样的邀请店员进行管店的能力，本文描述了店主在千帆掌柜App中，邀请其它千帆掌柜用户成为该店店员的体验及流程。该流程为PC端千帆掌柜邀请店员加入的补充，不影响原有流程。


## 概念定义
- 店主 - 千帆掌柜中，当一个登陆用户完成‘开店’流程之后，成为该店店主。
    - 一个门店只有一个店主，
    - 一个登陆用户可以是多个门店店主
    - 一个登陆用户可以是门店A的店主，同时是门店B的店员
    - 一个登陆用户不能同时是一个门店的店主、及店员
- 店员 - 千帆掌柜中，一个登陆用户可以通过主动申请、接受邀请两种方式成为某个门店店员
    - 店员的权限由店长定义，在不具有某些功能的操作权限，以及数据查看权限
- 门店
    - 门店是登陆用户进行业务管理的最小单位。千帆掌柜支持用户开通多个门店
    - 门店概念适用于所有频道，包含店务、支付、优货、会员、营销

## 核心场景描述

店主端用户体验
用户在成为某个门店店长之后，有权限进行店员管理，包括：
1. 查看所有店员列表信息
2. 编辑、删除店员
3. 查看我的入店码
4. 邀请新用户成为店员
5. 查看邀请状态
以上操作目前已经可以在PC端千帆掌柜中完成，本文描述在千帆掌柜App中的相关流程及体验

店员端用户体验
用户在登陆千帆掌柜之后如果受到某个店长的入店邀请，店员
1. 查看我接受到的邀请
2. 接受邀请，按照权限设置正常使用该门店的功能
3. 拒绝邀请并不再进行提示

### 1. 千帆掌柜中增加店员管理入口
在千帆掌柜App-》我的页面中增加“管理我的店员”入口，点击之后进入店员管理页面。入口入下图所示：

![管理我的店员](/MockUps/我的.png)

店主在点击之后进入店员管理详情页面，如下图所示：

![管理我的店员](/MockUps/店员管理.png)

店长可以查看所有会员的列表信息，列表中展示
- 店员姓名
- 手机号
- 状态 - 状态与PC端相同，**已加入、待加入、已拒绝**
店主也可以查看我的入店码，该入店码只做展示用，不可编辑
**如果是店员身份登陆某家门店，该入口不可见**

### 1. 店主完成开店后，通过手机号发送店员邀请
店主点击上述列表中的‘邀请店员’按钮，弹窗进行店员信息输入：

![邀请店员](/MockUps/邀请店员.png)

需要输入的信息为：
- 姓名， 必填项
- 手机号，必填项
- 权限设置，必选项 （权限部分，不作为本文描述范围，关于店员权限相关设置，详见权限相关的PRD）

完成信息输入之后，店长可以点击‘发送邀请’，或者取消按钮。两种按钮点击之后都会关闭弹窗，回到店员管理页面。如果店长选择发送了邀请，立即会在列表中看到对应的店员信息，并且状态为‘待加入’：

![待加入](/MockUps/等待加入.png)

### 2. 店员登陆之后，收到入店邀请并执行操作
店员登陆之后，进入正常的店铺选择页面，如果此时该店员接受到某个店长的邀请加入门店，该用户会在店铺选择页中查看到通知详情，如下所示：

![店员登陆](/MockUps/店员登陆.png)

通知详情格式为：“通知：【店张姓名】邀请您加入【店铺名称】“，如果一行展示不下进行折行显示。如果店员没有处理该条通知（接受邀请或者暂不加入）该条通知则一直出现。

店员点击通知之后，弹窗进行提示，如下所示：

![查看邀请](/MockUps/接受邀请.png)

用户点击暂不接受之后，不再收到加入邀请通知。店主端进行店员管理时，其邀请状态变为‘已拒绝’。用户点击接受邀请之后，自动进入该门店，并成为该门店的店员。该用户可以查看到其在该门店是店员身份，且其下次登陆时会看到该门店的选项，如下图所示：

![加入成功](/MockUps/加入成功.png)

### 3. PC端和App端同步
要求千帆掌柜PC端和App端对于邀请店员加入、店员接受邀请的流程，在双端同步，具体要求为：
- 店长不论在PC端还是App端创建的邀请，店员从App端和PC端登陆都可以收到
- 店员不论是在App端还是PC端，接受或者拒绝的加入邀请，在App端和PC端都会生效


